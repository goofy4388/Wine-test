<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Wine Knowledge Test</title>

  <style>
    :root{
      --bg1:#07152e; --bg2:#0a2b55;
      --card:#0e2346cc; --card2:#0b1e3ed6;
      --text:#eaf2ff; --muted:#b9c7e6;
      --btn:#183a6b; --btn2:#1c4f95;
      --danger:#8b1d2c;
      --shadow:0 18px 60px rgba(0,0,0,.45);
      --radius:18px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--text);
      background:
        radial-gradient(1200px 700px at 20% 10%, #1a4da0 0%, transparent 55%),
        radial-gradient(900px 600px at 80% 20%, #2a2c7b 0%, transparent 55%),
        linear-gradient(180deg, var(--bg2), var(--bg1));
      overflow-x:hidden;
    }
    .bgGlow{
      position:fixed; inset:-200px;
      background:
        radial-gradient(900px 500px at 50% 0%, rgba(255,255,255,.08), transparent 60%),
        radial-gradient(700px 400px at 10% 30%, rgba(255,255,255,.05), transparent 60%),
        radial-gradient(700px 400px at 90% 40%, rgba(255,255,255,.06), transparent 60%);
      filter: blur(2px);
      pointer-events:none;
    }
    .wrap{max-width:980px;margin:0 auto;padding:28px 18px 40px;position:relative}
    .hero{display:flex;gap:14px;align-items:center;margin:10px 0 18px}
    .heroIcon{
      width:54px;height:54px;border-radius:14px;
      background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.04));
      border:1px solid rgba(255,255,255,.12);
      display:grid;place-items:center;
      box-shadow: var(--shadow);
      font-size: 26px;
    }
    .heroText h1{margin:0;letter-spacing:.2px}
    .sub{margin:.2rem 0 0;color:var(--muted)}

    .card{
      background: linear-gradient(180deg, var(--card), var(--card2));
      border: 1px solid rgba(255,255,255,.10);
      border-radius: var(--radius);
      padding: 18px 18px 16px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
      margin: 14px 0;
    }
    .hidden{display:none !important}
    h2{margin:0 0 10px}
    .muted{color:var(--muted)}
    .small{font-size:.95rem}
    .tiny{font-size:.85rem}
    .center{text-align:center}

    .row{margin:10px 0 14px}
    .label{display:block;font-weight:800;margin:0 0 8px}
    .input{
      width:100%;padding:12px 14px;border-radius:14px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.18);
      color: var(--text);
      outline:none;
    }
    .input:focus{
      border-color: rgba(110,174,255,.8);
      box-shadow: 0 0 0 3px rgba(96,165,250,.22);
    }

    .btnRow,.navRow{
      display:flex;gap:10px;flex-wrap:wrap;align-items:center;margin-top:12px
    }
    .btn{
      padding:11px 14px;border-radius:14px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.16);
      color: var(--text);
      cursor:pointer;
      transition: transform .05s ease, background .15s ease, opacity .15s ease;
      user-select:none;
    }
    .btn:hover{background: rgba(255,255,255,.08)}
    .btn:active{transform: translateY(1px)}
    .btn.primary{
      background: linear-gradient(180deg, var(--btn2), var(--btn));
      border-color: rgba(120,190,255,.30);
    }
    .btn.danger{
      background: linear-gradient(180deg, #b72b3f, var(--danger));
      border-color: rgba(255,120,140,.35);
    }
    .btn.ghost{background:transparent;border-color:rgba(255,255,255,.18)}
    .btn:disabled{opacity:.45; cursor:not-allowed}

    .testTop{display:flex;justify-content:space-between;gap:10px;flex-wrap:wrap;margin-bottom:10px}
    .pill{
      padding:8px 12px;border-radius:999px;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.10);
      color: var(--muted);
      font-weight:700;
    }

    .qHeader{display:flex;justify-content:space-between;align-items:baseline;gap:10px;flex-wrap:wrap}
    .questionBox{
      margin: 10px 0 12px;
      padding: 14px 14px;
      border-radius: 16px;
      background: rgba(0,0,0,.16);
      border: 1px solid rgba(255,255,255,.10);
    }
    .questionText{font-size:1.06rem;line-height:1.38;font-weight:750}

    .options{display:grid;gap:10px;margin-top:10px}
    .opt{
      display:flex;align-items:flex-start;gap:12px;
      padding:12px 12px;border-radius:16px;
      background: rgba(255,255,255,.05);
      border:1px solid rgba(255,255,255,.10);
      cursor:pointer;
    }
    .opt:hover{background: rgba(255,255,255,.08)}
    .opt input{transform: scale(1.12); margin-top:3px}
    .optText{font-size:.95rem;line-height:1.32;color:var(--text)}

    .resultsTop{display:flex;justify-content:space-between;align-items:center;gap:10px}
    .resultsGrid{
      display:grid;
      grid-template-columns: repeat(4, minmax(0,1fr));
      gap:10px;
      margin:12px 0 10px;
    }
    @media (max-width:800px){.resultsGrid{grid-template-columns:repeat(2, minmax(0,1fr));}}

    .resultTile{
      padding:12px;border-radius:16px;
      background: rgba(0,0,0,.16);
      border: 1px solid rgba(255,255,255,.10);
    }
    .tileLabel{color:var(--muted);font-size:.86rem;font-weight:800}
    .tileValue{font-size:1.06rem;font-weight:900;margin-top:4px}

    .stamp{
      padding:10px 14px;border-radius:12px;
      border:2px dashed rgba(255,255,255,.5);
      font-weight:1000;letter-spacing:.8px;
      transform: rotate(-6deg);
      box-shadow: 0 12px 28px rgba(0,0,0,.25);
    }
    .stamp.pass{
      color:#b7ffcb;background: rgba(20,120,60,.18);
      border-color: rgba(183,255,203,.7);
    }
    .stamp.fail{
      color:#ffb7b7;background: rgba(150,20,40,.18);
      border-color: rgba(255,183,183,.7);
    }

    .reviewWrap{margin-top:12px;padding-top:8px;border-top:1px solid rgba(255,255,255,.12)}
    .reviewWrap summary{cursor:pointer;color:var(--muted);font-weight:900}
    .missedList{margin-top:10px;display:grid;gap:10px}
    .missedItem{
      padding:12px;border-radius:16px;
      background: rgba(0,0,0,.16);
      border: 1px solid rgba(255,255,255,.10);
    }
    .missedItem .q{font-weight:950;margin-bottom:6px}
    .missedItem .a{color:var(--muted);font-size:.93rem;line-height:1.35}

    .foot{margin-top:16px;text-align:center;opacity:.9}
  </style>
</head>

<body>
  <div class="bgGlow"></div>

  <main class="wrap">
    <header class="hero">
      <div class="heroIcon" aria-hidden="true">üç∑</div>
      <div class="heroText">
        <h1>Wine Knowledge Test</h1>
        <p class="sub">50 questions ‚Ä¢ No timer ‚Ä¢ 80% to pass ‚Ä¢ Screenshot results</p>
      </div>
    </header>

    <!-- START -->
    <section class="card" id="startCard">
      <h2>Start</h2>
      <p class="muted">Enter your name and press <strong>Start Test</strong>.</p>

      <div class="row">
        <label class="label" for="nameInput">Your Name</label>
        <input id="nameInput" class="input" type="text" placeholder="First + Last name" autocomplete="name" />
      </div>

      <div class="btnRow">
        <button id="startBtn" class="btn primary" type="button">Start Test</button>
        <button id="resetBtnTop" class="btn ghost" type="button">Reset</button>
      </div>

      <p class="tiny center muted">Local-only. Nothing is sent anywhere.</p>
    </section>

    <!-- TEST -->
    <section class="card hidden" id="testCard" aria-live="polite">
      <div class="testTop">
        <div class="pill">Name: <span id="whoName">‚Äî</span></div>
        <div class="pill">Progress: <span id="progressText">0/50</span></div>
      </div>

      <div class="qHeader">
        <h2>Question</h2>
        <div class="muted" id="qCount">1 of 50</div>
      </div>

      <div class="questionBox">
        <div id="questionText" class="questionText">Loading‚Ä¶</div>
      </div>

      <form id="optionsForm" class="options" autocomplete="off"></form>

      <div class="navRow">
        <button id="backBtn" class="btn" type="button">‚Üê Back</button>
        <button id="nextBtn" class="btn primary" type="button">Next ‚Üí</button>
        <button id="finishBtn" class="btn danger hidden" type="button">Finish & Grade</button>
      </div>

      <div class="btnRow">
        <button id="resetBtn" class="btn ghost" type="button">Reset</button>
      </div>

      <p class="tiny center muted">You must answer to continue.</p>
    </section>

    <!-- RESULTS -->
    <section class="card hidden" id="resultsCard">
      <div class="resultsTop">
        <h2>Results</h2>
        <div id="stamp" class="stamp hidden">PASS</div>
      </div>

      <div class="resultsGrid">
        <div class="resultTile"><div class="tileLabel">Name</div><div class="tileValue" id="rName">‚Äî</div></div>
        <div class="resultTile"><div class="tileLabel">Score</div><div class="tileValue" id="rScore">‚Äî</div></div>
        <div class="resultTile"><div class="tileLabel">Percent</div><div class="tileValue" id="rPct">‚Äî</div></div>
        <div class="resultTile"><div class="tileLabel">Passing</div><div class="tileValue">80%</div></div>
      </div>

      <div class="btnRow">
        <button id="reviewBtn" class="btn" type="button">Review Missed</button>
        <button id="restartBtn" class="btn primary" type="button">Restart</button>
      </div>

      <details class="reviewWrap" id="reviewWrap">
        <summary>Show missed questions</summary>
        <div id="missedList" class="missedList"></div>
      </details>

      <p class="tiny center muted">Screenshot this results page and send it in.</p>
    </section>

    <footer class="foot muted tiny">Built for training ‚Ä¢ GitHub Pages safe ‚Ä¢ Single file</footer>
  </main>

  <script>
    (function(){
      "use strict";

      const PASS_PCT = 80;
      const KEY = "wine_test_final_v1";

      // =========================
      //  50 QUESTIONS (EXACT)
      // =========================
      // q: string
      // choices: [A,B,C,D]
      // a: index 0-3
      const QUESTIONS = [
        { q:"Which wine style is typically the most acidic?", choices:["Cabernet Sauvignon","Chardonnay","Sauvignon Blanc","Merlot"], a:2 },
        { q:"Which wine style is most commonly served chilled?", choices:["Pinot Noir","Ros√©","Cabernet Sauvignon","Red Blend"], a:1 },
        { q:"Which wine would MOST LIKELY pair best with spicy food?", choices:["Cabernet Sauvignon","Moscato","Merlot","Chianti"], a:1 },
        { q:"Which wine style is typically full-bodied?", choices:["Pinot Grigio","Riesling","Cabernet Sauvignon","Sauvignon Blanc"], a:2 },
        { q:"Which wine is MOST LIKELY to have noticeable oak influence?", choices:["Sauvignon Blanc","Riesling","Chardonnay","Prosecco"], a:2 },

        { q:"Which wine style is typically carbonated?", choices:["Prosecco","Pinot Grigio","Ros√©","Merlot"], a:0 },
        { q:"Which wine is generally the sweetest?", choices:["Cabernet Sauvignon","Moscato","Pinot Noir","Chianti"], a:1 },
        { q:"Which sparkling wine comes specifically from France?", choices:["Prosecco","Champagne","Cava","Sparkling Ros√©"], a:1 },
        { q:"Which wine is MOST LIKELY used for celebrations or toasts?", choices:["Merlot","Prosecco","Chianti","Red Blend"], a:1 },
        { q:"Which wine style is typically lower in alcohol?", choices:["Cabernet Sauvignon","Moscato","Red Blend","Super Tuscan"], a:1 },

        { q:"Which country is MOST associated with Prosecco?", choices:["France","Spain","Italy","USA"], a:2 },
        { q:"Which country is MOST associated with Sauvignon Blanc with grassy notes?", choices:["Italy","France","New Zealand","Spain"], a:2 },
        { q:"Which region is MOST associated with Chianti wines?", choices:["Piedmont","Tuscany","Veneto","Sicily"], a:1 },
        { q:"Which country is MOST associated with Valpolicella?", choices:["France","Italy","Spain","Portugal"], a:1 },
        { q:"Which wine region is known for bold Cabernet Sauvignon?", choices:["Napa Valley","Loire Valley","Mosel","Alsace"], a:0 },

        { q:"Which wine on your list is a sparkling Italian wine?", choices:["Riondo Prosecco","Fleurs de Prairie Ros√©","Kim Crawford Sauvignon Blanc","Bogle Merlot"], a:0 },
        { q:"Which wine on your list would be BEST described as off-dry and aromatic?", choices:["Chateau Ste. Michelle Riesling","Caymus Cabernet Sauvignon","Ruffino Chianti","DAOU Cabernet Sauvignon"], a:0 },
        { q:"Which wine on your list would MOST LIKELY pair with light seafood dishes?", choices:["Pinot Grigio","Cabernet Sauvignon","Red Blend","Chianti"], a:0 },
        { q:"Which wine on your list is considered a luxury Napa Cabernet?", choices:["Josh Cellars Cabernet Sauvignon","Caymus Cabernet Sauvignon","Beringer Cabernet Sauvignon","Coppola Cabernet Sauvignon"], a:1 },
        { q:"Which wine on your list is a French ros√©?", choices:["Copper Ridge White Zinfandel","Fleurs de Prairie Ros√©","Seven Daughters Moscato","La Marca Prosecco Ros√©"], a:1 },

        { q:"Which wine does NOT belong with the others?", choices:["Pinot Grigio","Sauvignon Blanc","Chardonnay","Cabernet Sauvignon"], a:3 },
        { q:"Which wine does NOT belong with the others?", choices:["Prosecco","Champagne","Moscato","Cabernet Sauvignon"], a:3 },
        { q:"Which wine does NOT belong with the others?", choices:["Chianti","Valpolicella","Super Tuscan","Sauvignon Blanc"], a:3 },
        { q:"Which wine does NOT belong with the others?", choices:["Merlot","Pinot Noir","Cabernet Sauvignon","Pinot Grigio"], a:3 },
        { q:"Which wine does NOT belong with the others?", choices:["Ros√©","White Zinfandel","Chardonnay","Cabernet Sauvignon"], a:3 },

        { q:"Best wine for steak?", choices:["Pinot Grigio","Riesling","Cabernet Sauvignon","Prosecco"], a:2 },
        { q:"Best wine for pasta with red sauce?", choices:["Sauvignon Blanc","Chianti","Moscato","Prosecco"], a:1 },
        { q:"Best wine for salads or light appetizers?", choices:["Red Blend","Pinot Grigio","Merlot","Cabernet Sauvignon"], a:1 },
        { q:"Best wine for dessert?", choices:["Cabernet Sauvignon","Moscato","Chianti","Pinot Noir"], a:1 },
        { q:"Best wine for grilled chicken?", choices:["Chardonnay","Cabernet Sauvignon","Red Blend","Super Tuscan"], a:0 },

        { q:"Which wine is typically lighter-bodied?", choices:["Pinot Noir","Cabernet Sauvignon","Red Blend","Super Tuscan"], a:0 },
        { q:"Which wine is MOST LIKELY to be bone-dry?", choices:["Moscato","Prosecco","Cabernet Sauvignon","Riesling"], a:2 },
        { q:"Which wine style usually has tannins?", choices:["Sparkling wine","White wine","Red wine","Ros√©"], a:2 },
        { q:"Which wine is typically described as crisp?", choices:["Sauvignon Blanc","Merlot","Cabernet Sauvignon","Red Blend"], a:0 },
        { q:"Which wine is MOST LIKELY aged in oak barrels?", choices:["Prosecco","Riesling","Cabernet Sauvignon","Moscato"], a:2 },

        { q:"Which wine would a guest choose if they want something not sweet?", choices:["Moscato","Cabernet Sauvignon","Prosecco","Ros√©"], a:1 },
        { q:"Which wine is MOST likely ordered by the glass at brunch?", choices:["Cabernet Sauvignon","Merlot","Prosecco","Chianti"], a:2 },
        { q:"Which wine is MOST likely Italian?", choices:["Chianti","Riesling","Sauvignon Blanc","Cabernet Sauvignon"], a:0 },
        { q:"Which wine is MOST likely French?", choices:["Prosecco","Champagne","Pinot Grigio","Moscato"], a:1 },
        { q:"Which wine would be a safe recommendation for a new wine drinker?", choices:["Cabernet Sauvignon","Moscato","Super Tuscan","Chianti"], a:1 },

        { q:"Which wine style is MOST refreshing?", choices:["Sauvignon Blanc","Red Blend","Cabernet Sauvignon","Merlot"], a:0 },
        { q:"Which wine is typically not chilled?", choices:["Prosecco","Ros√©","Cabernet Sauvignon","Pinot Grigio"], a:2 },
        { q:"Which wine would pair best with cheese?", choices:["Moscato","Cabernet Sauvignon","Prosecco","Riesling"], a:1 },
        { q:"Which wine is MOST likely bold and rich?", choices:["Pinot Grigio","Sauvignon Blanc","Cabernet Sauvignon","Moscato"], a:2 },
        { q:"Which wine would NOT be described as sweet?", choices:["Moscato","Riesling","Cabernet Sauvignon","Prosecco"], a:2 },

        { q:"Which wine is MOST common in Italy?", choices:["Pinot Grigio","Merlot","Cabernet Sauvignon","Chardonnay"], a:0 },
        { q:"Which wine is MOST commonly red?", choices:["Sauvignon Blanc","Cabernet Sauvignon","Pinot Grigio","Prosecco"], a:1 },
        { q:"Which wine would pair best with pizza?", choices:["Pinot Grigio","Chianti","Moscato","Prosecco"], a:1 },
        { q:"Which wine is MOST likely crisp and dry?", choices:["Sauvignon Blanc","Moscato","Merlot","Red Blend"], a:0 },
        { q:"Which wine style is MOST versatile for food?", choices:["Cabernet Sauvignon","Pinot Grigio","Red Blend","Sauvignon Blanc"], a:3 }
      ];

      // =========================
      //  DOM
      // =========================
      const startCard   = document.getElementById("startCard");
      const testCard    = document.getElementById("testCard");
      const resultsCard = document.getElementById("resultsCard");

      const nameInput   = document.getElementById("nameInput");
      const startBtn    = document.getElementById("startBtn");
      const resetBtnTop = document.getElementById("resetBtnTop");

      const whoName      = document.getElementById("whoName");
      const progressText = document.getElementById("progressText");
      const qCount       = document.getElementById("qCount");
      const questionText = document.getElementById("questionText");
      const optionsForm  = document.getElementById("optionsForm");

      const backBtn   = document.getElementById("backBtn");
      const nextBtn   = document.getElementById("nextBtn");
      const finishBtn = document.getElementById("finishBtn");
      const resetBtn  = document.getElementById("resetBtn");

      const rName  = document.getElementById("rName");
      const rScore = document.getElementById("rScore");
      const rPct   = document.getElementById("rPct");
      const stamp  = document.getElementById("stamp");

      const reviewBtn  = document.getElementById("reviewBtn");
      const restartBtn = document.getElementById("restartBtn");
      const reviewWrap = document.getElementById("reviewWrap");
      const missedList = document.getElementById("missedList");

      // =========================
      //  STATE
      // =========================
      let state = {
        name: "",
        idx: 0,
        answers: Array(QUESTIONS.length).fill(null)
      };

      function save(){
        try{ localStorage.setItem(KEY, JSON.stringify(state)); }catch{}
      }

      function load(){
        try{
          const raw = localStorage.getItem(KEY);
          if(!raw) return false;
          const s = JSON.parse(raw);
          if(!s || !Array.isArray(s.answers) || s.answers.length !== QUESTIONS.length) return false;
          state = s;
          return true;
        }catch{ return false; }
      }

      function clear(){
        try{ localStorage.removeItem(KEY); }catch{}
      }

      function show(el){ el.classList.remove("hidden"); }
      function hide(el){ el.classList.add("hidden"); }

      function requireAnswered(){
        const a = state.answers[state.idx];
        nextBtn.disabled = (a === null);
        finishBtn.disabled = (a === null);
      }

      function render(){
        const i = state.idx;
        const q = QUESTIONS[i];

        whoName.textContent = state.name || "‚Äî";
        progressText.textContent = `${i+1}/${QUESTIONS.length}`;
        qCount.textContent = `${i+1} of ${QUESTIONS.length}`;

        questionText.textContent = q.q;

        backBtn.disabled = i === 0;

        const last = i === QUESTIONS.length - 1;
        nextBtn.classList.toggle("hidden", last);
        finishBtn.classList.toggle("hidden", !last);

        optionsForm.innerHTML = "";

        q.choices.forEach((choiceText, idx) => {
          const id = `q${i}_c${idx}`;

          const label = document.createElement("label");
          label.className = "opt";
          label.setAttribute("for", id);

          const input = document.createElement("input");
          input.type = "radio";
          input.name = `q_${i}`;
          input.id = id;
          input.value = String(idx);
          input.checked = state.answers[i] === idx;

          input.addEventListener("change", () => {
            state.answers[i] = idx;
            save();
            requireAnswered();
          });

          const span = document.createElement("span");
          span.className = "optText";
          span.textContent = choiceText;

          label.appendChild(input);
          label.appendChild(span);
          optionsForm.appendChild(label);
        });

        requireAnswered();
        save();
      }

      function startTest(){
        const nm = (nameInput.value || "").trim();
        if(!nm){
          alert("Enter your name.");
          nameInput.focus();
          return;
        }
        state.name = nm;

        hide(startCard);
        hide(resultsCard);
        show(testCard);

        render();
      }

      function resetAll(){
        clear();
        state = { name:"", idx:0, answers: Array(QUESTIONS.length).fill(null) };
        nameInput.value = "";
        hide(testCard);
        hide(resultsCard);
        show(startCard);
      }

      function grade(){
        let correct = 0;
        const missed = [];

        for(let i=0;i<QUESTIONS.length;i++){
          const q = QUESTIONS[i];
          const chosen = state.answers[i];

          if(chosen === q.a) correct++;
          else{
            missed.push({
              num: i+1,
              question: q.q,
              your: (chosen === null ? "No answer selected" : q.choices[chosen]),
              correct: q.choices[q.a]
            });
          }
        }

        const pct = Math.round((correct / QUESTIONS.length) * 100);
        const pass = pct >= PASS_PCT;

        rName.textContent = state.name;
        rScore.textContent = `${correct}/${QUESTIONS.length}`;
        rPct.textContent = `${pct}%`;

        stamp.classList.remove("hidden","pass","fail");
        stamp.textContent = pass ? "PASS" : "FAIL";
        stamp.classList.add(pass ? "pass" : "fail");

        missedList.innerHTML = "";
        if(missed.length === 0){
          const div = document.createElement("div");
          div.className = "missedItem";
          div.innerHTML = `<div class="q">Perfect score üéâ</div><div class="a">No missed questions.</div>`;
          missedList.appendChild(div);
        } else {
          missed.forEach(m => {
            const div = document.createElement("div");
            div.className = "missedItem";
            div.innerHTML = `
              <div class="q">${m.num}. ${m.question}</div>
              <div class="a"><strong>Your answer:</strong> ${m.your}</div>
              <div class="a"><strong>Correct:</strong> ${m.correct}</div>
            `;
            missedList.appendChild(div);
          });
        }

        reviewWrap.open = false;

        hide(testCard);
        hide(startCard);
        show(resultsCard);

        save();
      }

      // =========================
      //  EVENTS
      // =========================
      startBtn.addEventListener("click", startTest);
      resetBtnTop.addEventListener("click", resetAll);
      resetBtn.addEventListener("click", resetAll);

      backBtn.addEventListener("click", () => {
        state.idx = Math.max(0, state.idx - 1);
        save();
        render();
      });

      nextBtn.addEventListener("click", () => {
        if(state.answers[state.idx] === null) return;
        state.idx = Math.min(QUESTIONS.length - 1, state.idx + 1);
        save();
        render();
      });

      finishBtn.addEventListener("click", () => {
        if(state.answers[state.idx] === null) return;
        grade();
      });

      reviewBtn.addEventListener("click", () => {
        reviewWrap.open = true;
        reviewWrap.scrollIntoView({behavior:"smooth", block:"start"});
      });

      restartBtn.addEventListener("click", resetAll);

      nameInput.addEventListener("keydown", (e) => {
        if(e.key === "Enter"){
          e.preventDefault();
          startTest();
        }
      });

      // =========================
      //  BOOT
      // =========================
      const ok = load();
      if(ok && state.name){
        // Resume to test view if answers exist; otherwise start screen.
        const anyAnswered = state.answers.some(a => a !== null);
        if(anyAnswered){
          hide(startCard);
          hide(resultsCard);
          show(testCard);
          render();
        } else {
          nameInput.value = state.name;
        }
      }
    })();
  </script>
</body>
</html>